{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.223.0"},"children":{"TemplateServerlessApp":{"id":"TemplateServerlessApp","path":"TemplateServerlessApp","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"lambdarole-dev-table":{"id":"lambdarole-dev-table","path":"TemplateServerlessApp/lambdarole-dev-table","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"Importlambdarole-dev-table":{"id":"Importlambdarole-dev-table","path":"TemplateServerlessApp/lambdarole-dev-table/Importlambdarole-dev-table","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/lambdarole-dev-table/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"TemplateServerlessApp/lambdarole-dev-table/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/lambdarole-dev-table/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["usersdevtable697667C9","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["actualsdevtable3C089F07","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["FinancialsTableDC870A1A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FinancialsTableDC870A1A","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["forecastdevtable580FFE20","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"JwtSecretB8834B39"}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"JwtRefreshSecret4736E8C7"}}],"Version":"2012-10-17"},"policyName":"lambdaroledevtableDefaultPolicyC0F44D3F","roles":[{"Ref":"lambdaroledevtable195EC1CD"}]}}}}}}},"users-dev-table":{"id":"users-dev-table","path":"TemplateServerlessApp/users-dev-table","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/users-dev-table/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"email","attributeType":"S"}],"keySchema":[{"attributeName":"email","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"tableName":"users-dev-table"}}},"ScalingRole":{"id":"ScalingRole","path":"TemplateServerlessApp/users-dev-table/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"actuals-dev-table":{"id":"actuals-dev-table","path":"TemplateServerlessApp/actuals-dev-table","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/actuals-dev-table/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"email","attributeType":"S"},{"attributeName":"date","attributeType":"S"}],"keySchema":[{"attributeName":"email","keyType":"HASH"},{"attributeName":"date","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"tableName":"actuals-dev-table"}}},"ScalingRole":{"id":"ScalingRole","path":"TemplateServerlessApp/actuals-dev-table/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"forecast-dev-table":{"id":"forecast-dev-table","path":"TemplateServerlessApp/forecast-dev-table","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/forecast-dev-table/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"email","attributeType":"S"},{"attributeName":"date","attributeType":"S"}],"keySchema":[{"attributeName":"email","keyType":"HASH"},{"attributeName":"date","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"tableName":"forecast-dev-table"}}},"ScalingRole":{"id":"ScalingRole","path":"TemplateServerlessApp/forecast-dev-table/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"FinancialsTable":{"id":"FinancialsTable","path":"TemplateServerlessApp/FinancialsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/FinancialsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"email","attributeType":"S"},{"attributeName":"date","attributeType":"S"},{"attributeName":"recurrence","attributeType":"S"},{"attributeName":"type","attributeType":"S"},{"attributeName":"category","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"RecurrenceTypeIndex","keySchema":[{"attributeName":"recurrence","keyType":"HASH"},{"attributeName":"type","keyType":"RANGE"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"CategoryIndex","keySchema":[{"attributeName":"category","keyType":"HASH"},{"attributeName":"date","keyType":"RANGE"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"email","keyType":"HASH"},{"attributeName":"date","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"tableName":"financials-dev"}}},"ScalingRole":{"id":"ScalingRole","path":"TemplateServerlessApp/FinancialsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"JwtSecret":{"id":"JwtSecret","path":"TemplateServerlessApp/JwtSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/JwtSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"JWT signing key for development","generateSecretString":{"excludePunctuation":true,"includeSpace":false,"passwordLength":32},"name":"jwt-dev-secret"}}}}},"JwtRefreshSecret":{"id":"JwtRefreshSecret","path":"TemplateServerlessApp/JwtRefreshSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/JwtRefreshSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"JWT Refresh signing key for development","generateSecretString":{"excludePunctuation":true,"includeSpace":false,"passwordLength":64},"name":"jwt-refresh-dev-secret"}}}}},"UtilsLayer":{"id":"UtilsLayer","path":"TemplateServerlessApp/UtilsLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TemplateServerlessApp/UtilsLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"TemplateServerlessApp/UtilsLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"TemplateServerlessApp/UtilsLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/UtilsLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.12"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"9cd7a354041ba6b0d3d89ae661e3ca5b9f4dd7baef817a6e31aeeb81eebab64f.zip"},"description":"Shared utils"}}}}},"authorizer-dev-lambda":{"id":"authorizer-dev-lambda","path":"TemplateServerlessApp/authorizer-dev-lambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TemplateServerlessApp/authorizer-dev-lambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"TemplateServerlessApp/authorizer-dev-lambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"TemplateServerlessApp/authorizer-dev-lambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/authorizer-dev-lambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"30479169ed88142a76b53b2113c6d95e66e043a89e2661969ae5cc283e580fae.zip"},"environment":{"variables":{"JWT_SECRET_NAME":{"Ref":"JwtSecretB8834B39"},"REFRESH_SECRET_NAME":{"Ref":"JwtRefreshSecret4736E8C7"},"TABLE_USERS":{"Ref":"usersdevtable697667C9"},"TABLE_ACTUALS":{"Ref":"actualsdevtable3C089F07"},"TABLE_FINANCIALS":{"Ref":"FinancialsTableDC870A1A"},"TABLE_FORECAST":{"Ref":"forecastdevtable580FFE20"},"ENVIRONMENT":"dev","FRONTEND_BASE_URL":"https://localhost:3000/","JWT_EXPIRATION":"3600","ACCESS_TOKEN_EXPIRATION":"3600","APP_NAME":"MyFinancialAdvisor"}},"handler":"authorizer.handler.handler","layers":[{"Ref":"UtilsLayerD4171181"}],"role":{"Fn::GetAtt":["lambdaroledevtable195EC1CD","Arn"]},"runtime":"python3.12"}}},"TemplateServerlessAppLambdaTokenAuthorizer42BE3046:Permissions":{"id":"TemplateServerlessAppLambdaTokenAuthorizer42BE3046:Permissions","path":"TemplateServerlessApp/authorizer-dev-lambda/TemplateServerlessAppLambdaTokenAuthorizer42BE3046:Permissions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["authorizerdevlambda8092061B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/authorizers/",{"Ref":"LambdaTokenAuthorizer5D128412"}]]}}}}}},"auth-dev-lambda":{"id":"auth-dev-lambda","path":"TemplateServerlessApp/auth-dev-lambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TemplateServerlessApp/auth-dev-lambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"TemplateServerlessApp/auth-dev-lambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"TemplateServerlessApp/auth-dev-lambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/auth-dev-lambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"d9e6a618938c383a579f4d1077f970904d7fb6ed14aba04050a5a2c635a809b7.zip"},"environment":{"variables":{"JWT_SECRET_NAME":{"Ref":"JwtSecretB8834B39"},"REFRESH_SECRET_NAME":{"Ref":"JwtRefreshSecret4736E8C7"},"TABLE_USERS":{"Ref":"usersdevtable697667C9"},"TABLE_ACTUALS":{"Ref":"actualsdevtable3C089F07"},"TABLE_FINANCIALS":{"Ref":"FinancialsTableDC870A1A"},"TABLE_FORECAST":{"Ref":"forecastdevtable580FFE20"},"ENVIRONMENT":"dev","FRONTEND_BASE_URL":"https://localhost:3000/","JWT_EXPIRATION":"3600","ACCESS_TOKEN_EXPIRATION":"3600","APP_NAME":"MyFinancialAdvisor"}},"handler":"auth.handler.lambda_handler","layers":[{"Ref":"UtilsLayerD4171181"}],"role":{"Fn::GetAtt":["lambdaroledevtable195EC1CD","Arn"]},"runtime":"python3.12"}}}}},"public-dev-lambda":{"id":"public-dev-lambda","path":"TemplateServerlessApp/public-dev-lambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TemplateServerlessApp/public-dev-lambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"TemplateServerlessApp/public-dev-lambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"TemplateServerlessApp/public-dev-lambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/public-dev-lambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"78464af0eea7c9b4064d7dabe21f1978af4ebf22b843c7cb53a5b05392f63da1.zip"},"environment":{"variables":{"JWT_SECRET_NAME":{"Ref":"JwtSecretB8834B39"},"REFRESH_SECRET_NAME":{"Ref":"JwtRefreshSecret4736E8C7"},"TABLE_USERS":{"Ref":"usersdevtable697667C9"},"TABLE_ACTUALS":{"Ref":"actualsdevtable3C089F07"},"TABLE_FINANCIALS":{"Ref":"FinancialsTableDC870A1A"},"TABLE_FORECAST":{"Ref":"forecastdevtable580FFE20"},"ENVIRONMENT":"dev","FRONTEND_BASE_URL":"https://localhost:3000/","JWT_EXPIRATION":"3600","ACCESS_TOKEN_EXPIRATION":"3600","APP_NAME":"MyFinancialAdvisor"}},"handler":"public.handler.lambda_handler","layers":[{"Ref":"UtilsLayerD4171181"}],"role":{"Fn::GetAtt":["lambdaroledevtable195EC1CD","Arn"]},"runtime":"python3.12"}}}}},"private-dev-lambda":{"id":"private-dev-lambda","path":"TemplateServerlessApp/private-dev-lambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"TemplateServerlessApp/private-dev-lambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"TemplateServerlessApp/private-dev-lambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"TemplateServerlessApp/private-dev-lambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/private-dev-lambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"f1e1eb304bf6330261425b91121a9ca2046ce5ba16e7f1f0c06f401103cb1e90.zip"},"environment":{"variables":{"JWT_SECRET_NAME":{"Ref":"JwtSecretB8834B39"},"REFRESH_SECRET_NAME":{"Ref":"JwtRefreshSecret4736E8C7"},"TABLE_USERS":{"Ref":"usersdevtable697667C9"},"TABLE_ACTUALS":{"Ref":"actualsdevtable3C089F07"},"TABLE_FINANCIALS":{"Ref":"FinancialsTableDC870A1A"},"TABLE_FORECAST":{"Ref":"forecastdevtable580FFE20"},"ENVIRONMENT":"dev","FRONTEND_BASE_URL":"https://localhost:3000/","JWT_EXPIRATION":"3600","ACCESS_TOKEN_EXPIRATION":"3600","APP_NAME":"MyFinancialAdvisor"}},"handler":"private.handler.handler","layers":[{"Ref":"UtilsLayerD4171181"}],"role":{"Fn::GetAtt":["lambdaroledevtable195EC1CD","Arn"]},"runtime":"python3.12"}}}}},"restapi-dev-apigateway":{"id":"restapi-dev-apigateway","path":"TemplateServerlessApp/restapi-dev-apigateway","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"endpointConfiguration":{"types":["REGIONAL"]},"name":"Financial API (dev)"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"TemplateServerlessApp/restapi-dev-apigateway/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"TemplateServerlessApp/restapi-dev-apigateway/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"TemplateServerlessApp/restapi-dev-apigateway/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["restapidevapigatewayCloudWatchRole2B9EB6BE","Arn"]}}}},"Deployment":{"id":"Deployment","path":"TemplateServerlessApp/restapi-dev-apigateway/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"TemplateServerlessApp/restapi-dev-apigateway/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"restapidevapigatewayDeployment1622DFFEa785ea2b10c117d3e78e1ff12e1f966e"},"restApiId":{"Ref":"restapidevapigatewayA45C1A6C"},"stageName":"dev"}}}}},"Endpoint":{"id":"Endpoint","path":"TemplateServerlessApp/restapi-dev-apigateway/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Default":{"id":"Default","path":"TemplateServerlessApp/restapi-dev-apigateway/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.223.0","metadata":[]},"children":{"auth":{"id":"auth","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["restapidevapigatewayA45C1A6C","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}},"POST":{"id":"POST","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/auth/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.POST..auth":{"id":"ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.POST..auth","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/auth/POST/ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.POST..auth","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["authdevlambda4C0D1575","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/",{"Ref":"restapidevapigatewayDeploymentStagedev8BC44AE2"},"/POST/auth"]]}}}},"ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.POST..auth":{"id":"ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.POST..auth","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/auth/POST/ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.POST..auth","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["authdevlambda4C0D1575","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/test-invoke-stage/POST/auth"]]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/auth/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["authdevlambda4C0D1575","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"restapidevapigatewayauth5A1E7ADA"},"restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}}}}}},"public":{"id":"public","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/public","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/public/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["restapidevapigatewayA45C1A6C","RootResourceId"]},"pathPart":"public","restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}},"GET":{"id":"GET","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/public/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..public":{"id":"ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..public","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/public/GET/ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..public","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["publicdevlambda09B52B26","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/",{"Ref":"restapidevapigatewayDeploymentStagedev8BC44AE2"},"/GET/public"]]}}}},"ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..public":{"id":"ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..public","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/public/GET/ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..public","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["publicdevlambda09B52B26","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/test-invoke-stage/GET/public"]]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/public/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["publicdevlambda09B52B26","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"restapidevapigatewaypublic5A71C36A"},"restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}}}}}},"private":{"id":"private","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/private","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/private/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["restapidevapigatewayA45C1A6C","RootResourceId"]},"pathPart":"private","restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}},"GET":{"id":"GET","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/private/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..private":{"id":"ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..private","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/private/GET/ApiPermission.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..private","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["privatedevlambda78C52DCE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/",{"Ref":"restapidevapigatewayDeploymentStagedev8BC44AE2"},"/GET/private"]]}}}},"ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..private":{"id":"ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..private","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/private/GET/ApiPermission.Test.TemplateServerlessApprestapidevapigatewayDCAFE925.GET..private","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["privatedevlambda78C52DCE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"restapidevapigatewayA45C1A6C"},"/test-invoke-stage/GET/private"]]}}}},"Resource":{"id":"Resource","path":"TemplateServerlessApp/restapi-dev-apigateway/Default/private/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"LambdaTokenAuthorizer5D128412"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["privatedevlambda78C52DCE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"restapidevapigatewayprivate859ABED9"},"restApiId":{"Ref":"restapidevapigatewayA45C1A6C"}}}}}}}}}}}},"LambdaTokenAuthorizer":{"id":"LambdaTokenAuthorizer","path":"TemplateServerlessApp/LambdaTokenAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.TokenAuthorizer","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"TemplateServerlessApp/LambdaTokenAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"authorizerResultTtlInSeconds":300,"authorizerUri":{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::GetAtt":["authorizerdevlambda8092061B","Arn"]}]}]},":apigateway:",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["authorizerdevlambda8092061B","Arn"]}]}]},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["authorizerdevlambda8092061B","Arn"]},"/invocations"]]},"identitySource":"method.request.header.Authorization","name":"TemplateServerlessAppLambdaTokenAuthorizer42BE3046","restApiId":{"Ref":"restapidevapigatewayA45C1A6C"},"type":"TOKEN"}}}}},"users-dev-tableName":{"id":"users-dev-tableName","path":"TemplateServerlessApp/users-dev-tableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"actuals-dev-tableName":{"id":"actuals-dev-tableName","path":"TemplateServerlessApp/actuals-dev-tableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"FinancialsTableName":{"id":"FinancialsTableName","path":"TemplateServerlessApp/FinancialsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"forecast-dev-tableName":{"id":"forecast-dev-tableName","path":"TemplateServerlessApp/forecast-dev-tableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"public-dev-lambdaArn":{"id":"public-dev-lambdaArn","path":"TemplateServerlessApp/public-dev-lambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"private-dev-lambdaArn":{"id":"private-dev-lambdaArn","path":"TemplateServerlessApp/private-dev-lambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"auth-dev-lambdaArn":{"id":"auth-dev-lambdaArn","path":"TemplateServerlessApp/auth-dev-lambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"authorizer-dev-lambdaArn":{"id":"authorizer-dev-lambdaArn","path":"TemplateServerlessApp/authorizer-dev-lambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"JwtSecretArn":{"id":"JwtSecretArn","path":"TemplateServerlessApp/JwtSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"JwtRefreshSecretArn":{"id":"JwtRefreshSecretArn","path":"TemplateServerlessApp/JwtRefreshSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"ApiEndpoint":{"id":"ApiEndpoint","path":"TemplateServerlessApp/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"TemplateServerlessApp/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"TemplateServerlessApp/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}},"Condition":{"id":"Condition","path":"TemplateServerlessApp/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"TemplateServerlessApp/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"TemplateServerlessApp/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}